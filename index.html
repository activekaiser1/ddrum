<!DOCTYPE html>
<html>
<body style="max-width: 15px;">

<svg class="boxx" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1000" height="1000" style="position:absolute;">
  <defs>
    <!-- define a prectattern using a yellow tile image -->
    <pattern id="bgimg" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
      <image x="0" y="0" width="60" height="60" xlink:href="https://www.w3schools.com/jsref/img_lamp.jpg" />
    </pattern>
  </defs>
</svg>
<svg class="boxx" id="myDIV" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="226" height="226" viewbox="180 180 140 140" style="border:solid 1px black;position:absolute;top:145px;left:145px;">
  <defs>
    <!-- define a p2ndttern using a yellow tile image -->
    <pattern id="bgimg" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
      <image x="0" y="0" width="60" height="60" xlink:href="https://www.w3schools.com/jsref/img_lamp.jpg" />
    </pattern>
  </defs>
</svg><svg class="boxx" id="myDIV" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="226" height="226" viewbox="180 180 140 140" style="border:solid 1px black;position:absolute;top:145px;left:145px;">
  <defs>
    <!-- define a p2ndttern using a yellow tile image -->
    <pattern id="bgimg" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
      <image x="0" y="0" width="60" height="60" xlink:href="https://www.w3schools.com/jsref/img_lamp.jpg" />
    </pattern>
  </defs>
</svg><svg class="boxx" id="myDIV" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="226" height="226" viewbox="180 180 140 140" style="border:solid 1px black;position:absolute;top:145px;left:145px;">
  <defs>
    <!-- define a p2ndttern using a yellow tile image -->
    <pattern id="bgimg" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
      <image x="0" y="0" width="60" height="60" xlink:href="https://www.w3schools.com/jsref/img_lamp.jpg" />
    </pattern>
  </defs>
</svg><svg class="boxx" id="myDIV" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="226" height="226" viewbox="180 180 140 140" style="border:solid 1px black;position:absolute;top:145px;left:145px;">
  <defs>
    <!-- define a p2ndttern using a yellow tile image -->
    <pattern id="bgimg" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
      <image x="0" y="0" width="60" height="60" xlink:href="https://www.w3schools.com/jsref/img_lamp.jpg" />
    </pattern>
  </defs>
</svg><svg class="boxx" id="myDIV" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="226" height="226" viewbox="180 180 140 140" style="border:solid 1px black;position:absolute;top:145px;left:145px;">
  <defs>
    <!-- define a p2ndttern using a yellow tile image -->
    <pattern id="bgimg" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
      <image x="0" y="0" width="60" height="60" xlink:href="https://www.w3schools.com/jsref/img_lamp.jpg" />
    </pattern>
  </defs>
</svg>
<svg class="boxx" id="myDIV" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="226" height="226" viewbox="180 180 140 140" style="border:solid 1px black;position:absolute;top:145px;left:145px;">
  <defs>
    <!-- define a p2ndttern using a yellow tile image -->
    <pattern id="bgimg" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
      <image x="0" y="0" width="60" height="60" xlink:href="https://www.w3schools.com/jsref/img_lamp.jpg" />
    </pattern>
  </defs>
</svg>

<svg class="boxx" style="position:absolute;" height="10" width="10">
  <circle r="40" stroke="black" stroke-width="3" fill="red" />
</svg>


<script>
  

  
var yuu = 0;
var xzib = document.querySelectorAll("svg");
var arra = [];
var colu = [
"blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue",



];




let initPos;
let calibrate = true;
document.body.style.zoom = "100%"; 
document.body.scrollLeft = 0;
document.body.style.overflow = "hidden";
document.body.addEventListener("click", () => {calibrate = true})

function handleSensor(e){
      let quaternion = e.target.quaternion;
      let angles = toEuler(quaternion);

      if(calibrate){
        initPos = angles;
        calibrate = false;
      }
     
      let dist = angles.map((angle, i) => calcDist(angle, initPos[i]));
      document.body.style.zoom = "100%"; 
xzib[7].style.left = window.innerWidth/2 + dist[0] + 'px';
xzib[7].style.top = window.innerHeight/2 + dist[1] +'px';
  
  if(xzib[7].style.left>300 + "px"){xzib[7].style.left=0 + "px"};
       document.body.style.zoom = "100%"; 
       
       document.body.style.overflow = "hidden";
// alert(dist[0] + ',' + dist[1] + ',' + dist[2]);
document.body.scrollLeft = 0;

     // alert(dist);
}  
const sensor = new AbsoluteOrientationSensor({frequency: 60});
sensor.addEventListener("reading", (e) => handleSensor(e));
sensor.start();



function toEuler(q) {
      let sinr_cosp = 2 * (q[3] * q[0] + q[1] * q[2]);
      let cosr_cosp = 1 - 2 * (q[0] * q[0] + q[1] * q[1]);
      let roll = Math.atan2(sinr_cosp, cosr_cosp);

      let siny_cosp = 2 * (q[3] * q[2] + q[0] * q[1]);
      let cosy_cosp = 1 - 2 * (q[1] * q[1] + q[2] * q[2]);
      let yaw = Math.atan2(siny_cosp, cosy_cosp);
 
      return [yaw, roll];
}

function calcDist(angle, initAngle) {
        angle = (angle - initAngle) * (180 / Math.PI);
        angle = angle < 0 ? angle + 360 : angle;
        angle = angle > 180 ? angle - 360 : angle;
 
        let dist = Math.round(-800 * Math.tan(angle * (Math.PI / 180)));
        return dist;
}














 function createL(svg, x1, y1, x2, y2, color, thick,i,ii) {
 var points = [x1,y1,x2,y2];
    var l = document.createElementNS('http://www.w3.org/2000/svg', 'line');
    
    l.setAttribute("class", "yulu");
    l.setAttribute("x1", points[0]);
    l.setAttribute("y1", points[1]);
    l.setAttribute("x2", points[2]);
    l.setAttribute("y2", points[3]);
    l.style = "transform-box: fill-box;transform-origin: center;stroke:" + color + ";stroke-width:" + thick;
    l.style.transform = "rotate(" + i + "deg)";
    svg.appendChild(l);


  }



  var i;
  for (i = 0; i < 360; i++) {

    createL(xzib[1], 177.5, 177.5, 322.5, 322.5, colu[i], 1, i/2,i)

};


var i;
  for (i = 0; i < 360; i++) { 
    

    

}
var counter = 0;
 var ini = window.innerWidth/250
setInterval(function(){ 

counter++;

xzib[1].style.width = 250*ini +'px';
     xzib[1].style.height = 250*ini + 'px';
  xzib[1].style.top = window.innerHeight/2 - 50*ini*2.5 + 0 +'px';
   xzib[1].style.left = 0 +'px';
   
   xzib[2].style.width = 250*ini -50*ini + counter +'px';
     xzib[2].style.height = 250*ini -50*ini + counter + 'px';
  xzib[2].style.top = window.innerHeight/2  - 50*ini*2.5 + 50*ini/2 - counter/2 +'px';
   xzib[2].style.left = 50*ini/2 - counter/2 +'px';
   
    xzib[3].style.width = 250*ini -(50*ini*2) + counter  +'px';
     xzib[3].style.height = 250*ini -(50*ini*2) + counter  + 'px';
  xzib[3].style.top = window.innerHeight/2 - 50*ini*2.5 + 50*ini  - counter/2 +'px';
   xzib[3].style.left = 50*ini- counter/2 +'px';
   
      xzib[4].style.width = 250*ini -(50*ini*3) + counter +'px';
     xzib[4].style.height = 250*ini -(50*ini*3) + counter + 'px';
  xzib[4].style.top = window.innerHeight/2  - 50*ini*2.5 + 50*ini*1.5  - counter/2  +'px';
   xzib[4].style.left = 50*ini*1.5  - counter/2  +'px';
   
     xzib[5].style.width = 250*ini -(50*ini*4) + counter +'px';
     xzib[5].style.height = 250*ini -(50*ini*4) + counter + 'px';
  xzib[5].style.top = window.innerHeight/2 - 50*ini*2.5+ 50*ini*2  - counter/2 +'px';
   xzib[5].style.left = 50*ini*2  - counter/2 +'px';
   
     xzib[6].style.width = 250*ini -(50*ini*5) + counter +'px';
     xzib[6].style.height = 250*ini -(50*ini*5) + counter + 'px';
  xzib[6].style.top = window.innerHeight/2 - 50*ini*2.5 + 50*ini*2.5  - counter/2 +'px';
   xzib[6].style.left = 50*ini*2.5  - counter/2 +'px';
   
   if(counter==50*ini){counter=0;};
  
  }, 1000);
  
 
</script>
  
</body>
<style>
    body {
        overflow: hidden;
    }
  
  ::-webkit-scrollbar {
    display: none;
}
</style>
</html>
